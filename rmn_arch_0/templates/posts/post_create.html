{% load static %}
{% load crispy_forms_tags %}

<script type="module">
    import { check_textarea_length } from "{% static 'js/form_validation.js' %}";
    import { ImageCompressionInput } from "{% static 'js/image_compression_input.js' %}";

    document.getElementById('id_description').addEventListener('input', (event) => {
        check_textarea_length(event);
    }, false);
    new ImageCompressionInput('id_images', 'img_preview', 9);
</script>

<div class="post-create-div">
    <div class="preview-imgs">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
            alt="Image Prevew" id="img_preview0">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
            alt="Image Prevew" id="img_preview1">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
            alt="Image Prevew" id="img_preview2">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
            alt="Image Prevew" id="img_preview3">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
            alt="Image Prevew" id="img_preview4">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
            alt="Image Prevew" id="img_preview5">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
            alt="Image Prevew" id="img_preview6">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
            alt="Image Prevew" id="img_preview7">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
            alt="Image Prevew" id="img_preview8">
    </div>
    <form id="post_form" method="post" action="{% url 'posts:post_create_modal' %}"
        enctype="multipart/form-data" style="height: unset;">
        <h1>Create New Post</h1>
        {% csrf_token %}
        {{ form|crispy }}
        <button class="btn-primary" type="submit">Create</button>
    </form>
</div>
